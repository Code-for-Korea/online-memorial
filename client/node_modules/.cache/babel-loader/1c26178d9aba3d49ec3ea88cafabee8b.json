{"ast":null,"code":"import _slicedToArray from\"/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useState}from\"react\";import Button from\"../../common/Button\";import Container from\"../../common/Container\";import FlexRow from\"../../common/FlexRow\";import styles from\"./style.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CarouselWrapper=function CarouselWrapper(_ref){var children=_ref.children;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),selectedCardIdx=_useState2[0],setSelectedCardIdx=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),touchStart=_useState4[0],setTouchStart=_useState4[1];var itemLength=Array.isArray(children)?children.length:1;var onClickDot=useCallback(function(cardIdx){setSelectedCardIdx(cardIdx);},[]);var onTouchStart=useCallback(function(evt){evt.stopPropagation();setTouchStart(evt.changedTouches[0]);},[]);var onTouchEnd=useCallback(function(evt){evt.preventDefault();evt.stopPropagation();var touchEnd=evt.changedTouches[0];if(touchStart.screenX-touchEnd.screenX>-100&&touchStart.screenX-touchEnd.screenX<100){return;}if(touchStart.screenX>touchEnd.screenX){// go to right side\nsetSelectedCardIdx(function(prev){return prev<itemLength-1?prev+1:itemLength-1;});}else{// go to left side\nsetSelectedCardIdx(function(prev){return prev>0?prev-1:0;});}},[touchStart,itemLength]);return/*#__PURE__*/_jsxs(Container,{style:styles[\"carousel--container__outer-wrapper\"],children:[/*#__PURE__*/_jsx(\"div\",{className:styles[\"carousel--container__inner-wrapper\"],style:{width:\"calc(\".concat(100*itemLength,\"%)\"),transform:\"translateX(calc(-\".concat(selectedCardIdx*(100/itemLength),\"%))\")},onTouchStart:onTouchStart,onTouchEnd:onTouchEnd,children:children}),/*#__PURE__*/_jsx(FlexRow,{style:styles[\"carousel--navigation-dot__wrapper\"],children:Array(itemLength).fill(0).map(function(_,idx){return/*#__PURE__*/_jsx(Button,{style:\"\".concat(styles[\"carousel--navigation-dot\"],\" \").concat(idx===selectedCardIdx?styles[\"selected\"]:\"\"),onClick:function onClick(){return onClickDot(idx);},text:\"\"},\"carousel-card-\".concat(idx));})})]});};export default CarouselWrapper;","map":null,"metadata":{},"sourceType":"module"}