{"ast":null,"code":"import { Axios } from \"../api\";\nexport default class DataService {\n  static async getTotalCount(victimStatus, year) {\n    const response = await Axios.get(`/stats/year/${year}`);\n\n    if (response.status === 200) {\n      return response.data[victimStatus];\n    }\n\n    return null;\n  }\n\n  static async getStatisticByTime(year) {\n    const response = await Axios.get(`/stats/year/${year}`);\n\n    if (response.status === 200) {\n      return Object.entries(response.data).filter(_ref => {\n        let [key, _] = _ref;\n        return key.includes(\"hour\");\n      }).map(_ref2 => {\n        let [key, value] = _ref2;\n        return [parseInt(key.replace('hour_', '')), value];\n      }).sort((a, b) => a[0] - b[0]).map(_ref3 => {\n        let [_, value] = _ref3;\n        return value;\n      });\n    }\n\n    return null;\n  }\n\n  static async getStatisticByDay(year) {\n    const response = await Axios.get(`/stats/year/${year}`);\n\n    if (response.status === 200) {\n      return Object.entries(response.data).filter(_ref4 => {\n        let [key, _] = _ref4;\n        return key.includes(\"week\");\n      }).map(_ref5 => {\n        let [key, value] = _ref5;\n        return [parseInt(key.replace('week_', '')), value];\n      }).sort((a, b) => a[0] - b[0]).map(_ref6 => {\n        let [_, value] = _ref6;\n        return value;\n      });\n    }\n\n    return null;\n  }\n\n  static async getNews() {\n    var _response$data;\n\n    const response = await Axios.get(\"/stories\");\n    return (_response$data = response.data) !== null && _response$data !== void 0 ? _response$data : null;\n  }\n\n  static async getDataTable(page) {\n    var _response$data2;\n\n    const response = await Axios.get(`/disasters?&page=${page}per_page=${10}`);\n    return (_response$data2 = response.data) !== null && _response$data2 !== void 0 ? _response$data2 : null;\n  }\n\n}","map":{"version":3,"names":["Axios","DataService","getTotalCount","victimStatus","year","response","get","status","data","getStatisticByTime","Object","entries","filter","key","_","includes","map","value","parseInt","replace","sort","a","b","getStatisticByDay","getNews","getDataTable","page"],"sources":["/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/src/services/data.service.ts"],"sourcesContent":["import { Axios } from \"../api\";\nimport {\n    StatisticDataByDay\n} from \"../views/MemorialMainContent/MemorialInfomations/MemorialStatistics/Cards/StatisticByDayCard\";\n\n/**\n * data 부분 api 문서\n * https://candle-c4k.herokuapp.com/api-docs/index.html\n */\n\nexport type VictimStatus = \"death\" | \"injury\"\nexport type PercentageStatistic = \"day\" | \"time\"\n\nexport default class DataService {\n    static async getTotalCount(victimStatus: VictimStatus, year: number): Promise<number | null> {\n        const response = await Axios.get(`/stats/year/${year}`);\n        if (response.status === 200) {\n            return response.data[victimStatus];\n        }\n        return null;\n    }\n\n    static async getStatisticByTime(year: number): Promise<StatisticDataByDay | null> {\n        const response = await Axios.get(`/stats/year/${year}`);\n        if (response.status === 200) {\n            return Object.entries(response.data)\n                .filter(([key, _]) => key.includes(\"hour\"))\n                .map(([key, value]) => [parseInt(key.replace('hour_', '')), value])\n                .sort((a, b) => (a[0] as number) - (b[0] as number))\n                .map(([_, value]) => value as number);\n        }\n        return null;\n    }\n\n    static async getStatisticByDay(year: number): Promise<StatisticDataByDay | null> {\n        const response = await Axios.get(`/stats/year/${year}`);\n        if (response.status === 200) {\n            return Object.entries(response.data)\n                .filter(([key, _]) => key.includes(\"week\"))\n                .map(([key, value]) => [parseInt(key.replace('week_', '')), value])\n                .sort((a, b) => (a[0] as number) - (b[0] as number))\n                .map(([_, value]) => value as number);\n        }\n        return null;\n    }\n\n    static async getNews(): Promise<{ [key: string]: any }> {\n        const response = await Axios.get(\"/stories\");\n        return response.data ?? null;\n    }\n\n    static async getDataTable(page: number,): Promise<{ [key: string]: any }> {\n        const response = await Axios.get(`/disasters?&page=${page}per_page=${10}`);\n        return response.data ?? null;\n    }\n}\n"],"mappings":"AAAA,SAASA,KAAT,QAAsB,QAAtB;AAaA,eAAe,MAAMC,WAAN,CAAkB;EACH,aAAbC,aAAa,CAACC,YAAD,EAA6BC,IAA7B,EAAmE;IACzF,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAW,eAAcF,IAAK,EAA9B,CAAvB;;IACA,IAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;MACzB,OAAOF,QAAQ,CAACG,IAAT,CAAcL,YAAd,CAAP;IACH;;IACD,OAAO,IAAP;EACH;;EAE8B,aAAlBM,kBAAkB,CAACL,IAAD,EAAmD;IAC9E,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAW,eAAcF,IAAK,EAA9B,CAAvB;;IACA,IAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;MACzB,OAAOG,MAAM,CAACC,OAAP,CAAeN,QAAQ,CAACG,IAAxB,EACFI,MADE,CACK;QAAA,IAAC,CAACC,GAAD,EAAMC,CAAN,CAAD;QAAA,OAAcD,GAAG,CAACE,QAAJ,CAAa,MAAb,CAAd;MAAA,CADL,EAEFC,GAFE,CAEE;QAAA,IAAC,CAACH,GAAD,EAAMI,KAAN,CAAD;QAAA,OAAkB,CAACC,QAAQ,CAACL,GAAG,CAACM,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAD,CAAT,EAAqCF,KAArC,CAAlB;MAAA,CAFF,EAGFG,IAHE,CAGG,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAAC,CAAD,CAAF,GAAoBC,CAAC,CAAC,CAAD,CAHlC,EAIFN,GAJE,CAIE;QAAA,IAAC,CAACF,CAAD,EAAIG,KAAJ,CAAD;QAAA,OAAgBA,KAAhB;MAAA,CAJF,CAAP;IAKH;;IACD,OAAO,IAAP;EACH;;EAE6B,aAAjBM,iBAAiB,CAACnB,IAAD,EAAmD;IAC7E,MAAMC,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAW,eAAcF,IAAK,EAA9B,CAAvB;;IACA,IAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;MACzB,OAAOG,MAAM,CAACC,OAAP,CAAeN,QAAQ,CAACG,IAAxB,EACFI,MADE,CACK;QAAA,IAAC,CAACC,GAAD,EAAMC,CAAN,CAAD;QAAA,OAAcD,GAAG,CAACE,QAAJ,CAAa,MAAb,CAAd;MAAA,CADL,EAEFC,GAFE,CAEE;QAAA,IAAC,CAACH,GAAD,EAAMI,KAAN,CAAD;QAAA,OAAkB,CAACC,QAAQ,CAACL,GAAG,CAACM,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAD,CAAT,EAAqCF,KAArC,CAAlB;MAAA,CAFF,EAGFG,IAHE,CAGG,CAACC,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAAC,CAAD,CAAF,GAAoBC,CAAC,CAAC,CAAD,CAHlC,EAIFN,GAJE,CAIE;QAAA,IAAC,CAACF,CAAD,EAAIG,KAAJ,CAAD;QAAA,OAAgBA,KAAhB;MAAA,CAJF,CAAP;IAKH;;IACD,OAAO,IAAP;EACH;;EAEmB,aAAPO,OAAO,GAAoC;IAAA;;IACpD,MAAMnB,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAU,UAAV,CAAvB;IACA,yBAAOD,QAAQ,CAACG,IAAhB,2DAAwB,IAAxB;EACH;;EAEwB,aAAZiB,YAAY,CAACC,IAAD,EAAiD;IAAA;;IACtE,MAAMrB,QAAQ,GAAG,MAAML,KAAK,CAACM,GAAN,CAAW,oBAAmBoB,IAAK,YAAW,EAAG,EAAjD,CAAvB;IACA,0BAAOrB,QAAQ,CAACG,IAAhB,6DAAwB,IAAxB;EACH;;AAzC4B"},"metadata":{},"sourceType":"module"}