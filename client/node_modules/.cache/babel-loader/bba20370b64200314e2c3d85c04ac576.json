{"ast":null,"code":"import _regeneratorRuntime from\"/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{Chart as ChartJS,registerables}from\"chart.js\";import React,{useCallback,useEffect,useMemo,useState}from\"react\";import{Bar}from\"react-chartjs-2\";import FlexRow from\"../../../../../../components/common/FlexRow\";import BasicCard from\"../BasicCard\";import styles from\"./style.module.css\";import DataService from\"../../../../../../services/data.service\";import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register.apply(ChartJS,_toConsumableArray(registerables));var StatisticByTimeCard=function StatisticByTimeCard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),statisticByTime=_useState2[0],setStatisticByTime=_useState2[1];var initializeStatisticByTime=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,startFromSixteen;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return DataService.getStatisticByTime(new Date(Date.now()).getFullYear());case 2:data=_context.sent;if(data!==null){startFromSixteen=[].concat(_toConsumableArray(data.slice(data.length-6,data.length)),_toConsumableArray(data.slice(0,data.length-6)));setStatisticByTime(startFromSixteen);}case 4:case\"end\":return _context.stop();}}},_callee);})),[]);var title=\"시간대별 발생건수\";var subtitle=\"전체 산업재해 사망사고\";var timeline=Array(24).fill(0).map(function(_,idx){if(idx<6)return idx+6;else return idx-6;});var data=useMemo(function(){var _data={labels:timeline,datasets:[{label:title,data:statisticByTime,backgroundColor:\"rgba(255, 255, 255, 0.2)\",borderWidth:0,borderRadius:5}]};return _data;},[statisticByTime]);var options={responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false},tooltip:{enabled:true,mode:\"nearest\"}},scales:{x:{display:true,ticks:{maxRotation:0,minRotation:0,color:\"#ffffff\",callback:function callback(value,index,_){return value===6||value===18?\"\".concat(timeline[index]):\"\";}}},y:{display:false}}};useEffect(function(){initializeStatisticByTime();},[]);return/*#__PURE__*/_jsx(BasicCard,{title:title,subtitle:subtitle,children:/*#__PURE__*/_jsx(FlexRow,{style:styles[\"statistic-by-time--container__wrapper\"],children:/*#__PURE__*/_jsx(Bar,{data:data,options:options})})});};export default StatisticByTimeCard;","map":null,"metadata":{},"sourceType":"module"}