{"ast":null,"code":"var _jsxFileName = \"/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/src/views/MemorialMainContent/MemorialInfomations/MemorialDataTable/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport DataTableRow from \"../../../../components/dataTable/DataTableRow\";\nimport styles from \"./style.module.css\";\nimport FlexColumn from \"../../../../components/common/FlexColumn\";\nimport Pagination from \"../../../../components/pagination/Pagination\";\nimport Container from \"../../../../components/common/Container\";\nimport DataService from \"../../../../services/data.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MemorialDataTable = () => {\n  _s();\n\n  const [postPageNum, setPostPageNum] = useState(1);\n  const [dataTableList, setDataTableList] = useState([]);\n  const initializeDataTableList = useCallback(async () => {\n    const data = await DataService.getDataTable(postPageNum);\n    setDataTableList(data);\n  }, [postPageNum]);\n  useEffect(() => {\n    initializeDataTableList();\n  }, []);\n  const headerList = [\"사고날짜\", \"요일\", \"사망\", \"부상\", \"도시(행정구역)\", \"사고유형\", \"세부내용\"];\n  const dataPerPage = 10;\n  const updatePostPageNum = useCallback(newPageNum => {\n    setPostPageNum(newPageNum);\n  }, []);\n  const getLastPostPageNum = useCallback(() => {\n    return Math.floor(dataTableList.length / dataPerPage) + 1;\n  }, [dataTableList, dataPerPage]);\n  const currentDatas = useMemo(() => {\n    return dataTableList.slice((postPageNum - 1) * dataPerPage, postPageNum * dataPerPage);\n  }, [postPageNum, dataPerPage, dataTableList]);\n  return /*#__PURE__*/_jsxDEV(FlexColumn, {\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      className: styles[\"memorial-data-table\"],\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: styles[\"memorial-data-table--header\"],\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: styles[\"memorial-data-table--header-row\"],\n          children: headerList.map(text => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: styles[\"memorial-data-table--header-cell\"],\n            children: text\n          }, `memorial-data-table-header-${text}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 50\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: currentDatas.map((data, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: Object.keys(data).map(key => /*#__PURE__*/_jsxDEV(DataTableRow, {\n            content: key === \"articleUrl\" ? /*#__PURE__*/_jsxDEV(\"a\", {\n              className: styles[\"memorial-data-table--body-link\"],\n              rel: \"noreferrer\",\n              target: \"_blank\",\n              href: data[key],\n              children: \"\\uC0AC\\uACE0 \\uAE30\\uC0AC \\uBCF4\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 43\n            }, this) : key === \"weekday\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles[\"memorial-data-table--body-highlight\"],\n              children: data[key]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 63\n            }, this) : `${data[key]}`\n          }, `memorial-data-table-r${idx}c${key}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 33\n          }, this))\n        }, `memorial-data-table-r${idx}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      style: styles[\"memorial-data-table--pagination__wrapper\"],\n      children: /*#__PURE__*/_jsxDEV(Pagination, {\n        onPageChange: updatePostPageNum,\n        lastPage: getLastPostPageNum(),\n        initialPageNum: postPageNum\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MemorialDataTable, \"dxckd90CxfjCsGnSb22/0qL3Joc=\");\n\n_c = MemorialDataTable;\nexport default MemorialDataTable;\nexport const WEEKDAY = [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"];\nexport const dateFormatOption = {\n  year: \"numeric\",\n  month: \"numeric\",\n  day: \"numeric\"\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"MemorialDataTable\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","DataTableRow","styles","FlexColumn","Pagination","Container","DataService","MemorialDataTable","postPageNum","setPostPageNum","dataTableList","setDataTableList","initializeDataTableList","data","getDataTable","headerList","dataPerPage","updatePostPageNum","newPageNum","getLastPostPageNum","Math","floor","length","currentDatas","slice","map","text","idx","Object","keys","key","WEEKDAY","dateFormatOption","year","month","day"],"sources":["/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/src/views/MemorialMainContent/MemorialInfomations/MemorialDataTable/index.tsx"],"sourcesContent":["import React, {useCallback, useEffect, useMemo, useState} from \"react\";\nimport DataTableRow from \"../../../../components/dataTable/DataTableRow\";\nimport styles from \"./style.module.css\";\nimport FlexColumn from \"../../../../components/common/FlexColumn\";\nimport Pagination from \"../../../../components/pagination/Pagination\";\nimport Container from \"../../../../components/common/Container\";\nimport DataService from \"../../../../services/data.service\";\n\ntype MemorialDataTableProps = {}\n\nexport type DataTableItem = {\n    date: string,\n    weekday: string,\n    deathCount: number,\n    injuredCount: number,\n    district: string,\n    accidentType: string,\n    articleUrl: string,\n}\n\nexport type DataTableList = DataTableItem[];\n\nconst MemorialDataTable:React.FC<MemorialDataTableProps> = () => {\n\n    const [postPageNum, setPostPageNum] = useState<number>(1);\n    const [dataTableList, setDataTableList] = useState<DataTableList>([]);\n\n    const initializeDataTableList = useCallback(async () => {\n        const data = await DataService.getDataTable(postPageNum);\n        setDataTableList(data);\n    }, [postPageNum]);\n\n    useEffect(() => {\n        initializeDataTableList();\n    }, []);\n\n    const headerList = [\n      \"사고날짜\",\n        \"요일\",\n        \"사망\",\n        \"부상\",\n        \"도시(행정구역)\",\n        \"사고유형\",\n        \"세부내용\",\n    ];\n\n    const dataPerPage = 10;\n    const updatePostPageNum = useCallback((newPageNum) => {\n        setPostPageNum(newPageNum);\n    }, []);\n\n    const getLastPostPageNum = useCallback(() => {\n        return Math.floor(dataTableList.length / dataPerPage) + 1 ;\n    }, [dataTableList, dataPerPage]);\n\n    const currentDatas = useMemo(() => {\n        return dataTableList.slice((postPageNum - 1) * dataPerPage, postPageNum * dataPerPage);\n    }, [postPageNum, dataPerPage, dataTableList]);\n\n    return (\n        <FlexColumn>\n        <table className={styles[\"memorial-data-table\"]}>\n            <thead className={styles[\"memorial-data-table--header\"]}>\n                <tr className={styles[\"memorial-data-table--header-row\"]}>\n                    {\n                        headerList.map((text) => <th className={styles[\"memorial-data-table--header-cell\"]} key={`memorial-data-table-header-${text}`}>{text}</th>)\n                    }\n                </tr>\n            </thead>\n            <tbody>\n            {\n                currentDatas.map((data, idx) => (\n                    <tr key={`memorial-data-table-r${idx}`}>\n                        {\n                            Object.keys(data).map((key) => (\n                                <DataTableRow key={`memorial-data-table-r${idx}c${key}`} content={\n                                    key === \"articleUrl\"\n                                        ? <a className={styles[\"memorial-data-table--body-link\"]} rel=\"noreferrer\" target=\"_blank\" href={data[key] as string}>사고 기사 보기</a>\n                                        : key === \"weekday\" ? <span className={styles[\"memorial-data-table--body-highlight\"]}>{data[key]}</span> : `${data[key as keyof DataTableItem]}`}\n                                />\n                            ))\n                        }\n                    </tr>\n                ))\n            }\n            </tbody>\n        </table>\n            <Container style={styles[\"memorial-data-table--pagination__wrapper\"]}>\n                <Pagination onPageChange={updatePostPageNum} lastPage={getLastPostPageNum()} initialPageNum={postPageNum}/>\n            </Container>\n        </FlexColumn>\n    );\n};\n\nexport default MemorialDataTable;\n\nexport const WEEKDAY = [\n    \"일\",\n    \"월\",\n    \"화\",\n    \"수\",\n    \"목\",\n    \"금\",\n    \"토\",\n];\n\nexport const dateFormatOption = {\n    year: \"numeric\",\n    month: \"numeric\",\n    day: \"numeric\"\n} as Intl.DateTimeFormatOptions;"],"mappings":"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"},"metadata":{},"sourceType":"module"}