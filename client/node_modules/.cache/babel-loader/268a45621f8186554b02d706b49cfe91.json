{"ast":null,"code":"var _jsxFileName = \"/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/src/components/carousel/CarouselWrapper/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useState } from \"react\";\nimport Button from \"../../common/Button\";\nimport Container from \"../../common/Container\";\nimport FlexRow from \"../../common/FlexRow\";\nimport styles from \"./style.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CarouselWrapper = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [selectedCardIdx, setSelectedCardIdx] = useState(0);\n  const [touchStart, setTouchStart] = useState(null);\n  const itemLength = Array.isArray(children) ? children.length : 1;\n  const onClickDot = useCallback(cardIdx => {\n    setSelectedCardIdx(cardIdx);\n  }, []);\n  const onTouchStart = useCallback(evt => {\n    evt.stopPropagation();\n    setTouchStart(evt.changedTouches[0]);\n  }, []);\n  const onTouchEnd = useCallback(evt => {\n    evt.preventDefault();\n    evt.stopPropagation();\n    let touchEnd = evt.changedTouches[0];\n\n    if (touchStart.screenX - touchEnd.screenX > -100 && touchStart.screenX - touchEnd.screenX < 100) {\n      return;\n    }\n\n    if (touchStart.screenX > touchEnd.screenX) {\n      // go to right side\n      setSelectedCardIdx(prev => prev < itemLength - 1 ? prev + 1 : itemLength - 1);\n    } else {\n      // go to left side\n      setSelectedCardIdx(prev => prev > 0 ? prev - 1 : 0);\n    }\n  }, [touchStart, itemLength]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    style: styles[\"carousel--container__outer-wrapper\"],\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles[\"carousel--container__inner-wrapper\"],\n      style: {\n        width: `calc(${100 * itemLength}%)`,\n        transform: `translateX(calc(-${selectedCardIdx * (100 / itemLength)}%))`\n      },\n      onTouchStart: onTouchStart,\n      onTouchEnd: onTouchEnd,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FlexRow, {\n      style: styles[\"carousel--navigation-dot__wrapper\"],\n      children: Array(itemLength).fill(0).map((_, idx) => /*#__PURE__*/_jsxDEV(Button, {\n        style: `${styles[\"carousel--navigation-dot\"]} ${idx === selectedCardIdx ? styles[\"selected\"] : \"\"}`,\n        onClick: () => onClickDot(idx),\n        text: \"\"\n      }, `carousel-card-${idx}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CarouselWrapper, \"Gymi0E15j9i1hjsdO5mKnCgOqzg=\");\n\n_c = CarouselWrapper;\nexport default CarouselWrapper;\n\nvar _c;\n\n$RefreshReg$(_c, \"CarouselWrapper\");","map":{"version":3,"names":["React","useCallback","useState","Button","Container","FlexRow","styles","CarouselWrapper","children","selectedCardIdx","setSelectedCardIdx","touchStart","setTouchStart","itemLength","Array","isArray","length","onClickDot","cardIdx","onTouchStart","evt","stopPropagation","changedTouches","onTouchEnd","preventDefault","touchEnd","screenX","prev","width","transform","fill","map","_","idx"],"sources":["/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/src/components/carousel/CarouselWrapper/index.tsx"],"sourcesContent":["import React, { useCallback, useState } from \"react\";\nimport Button from \"../../common/Button\";\nimport Container from \"../../common/Container\";\nimport FlexRow from \"../../common/FlexRow\";\nimport styles from \"./style.module.css\";\n\ntype CarouselWrapperProps = {\n    children: React.ReactNode;\n}\n\nconst CarouselWrapper:React.FC<CarouselWrapperProps> = ({ children }) => {\n\n    const [selectedCardIdx, setSelectedCardIdx] = useState(0);\n    const [touchStart, setTouchStart] = useState<React.Touch|null>(null);\n    const itemLength = Array.isArray(children) ? children.length : 1;\n    \n    const onClickDot = useCallback((cardIdx: number) => {\n        setSelectedCardIdx(cardIdx);\n    }, [])\n\n    const onTouchStart = useCallback((evt: React.TouchEvent<HTMLDivElement>) => {\n        evt.stopPropagation()\n        setTouchStart(evt.changedTouches[0])\n    }, [])\n\n    const onTouchEnd = useCallback((evt: React.TouchEvent<HTMLDivElement>) => {\n        evt.preventDefault()\n        evt.stopPropagation()\n        let touchEnd = evt.changedTouches[0]\n        if (touchStart!.screenX - touchEnd.screenX > -100 && touchStart!.screenX - touchEnd.screenX < 100) {\n            return;\n        }\n        if (touchStart!.screenX > touchEnd.screenX) { // go to right side\n            setSelectedCardIdx((prev) => prev < itemLength - 1 ? prev + 1 : itemLength - 1)\n        } else { // go to left side\n            setSelectedCardIdx((prev) => prev > 0 ? prev - 1 : 0)\n        }\n    }, [touchStart, itemLength])\n\n    return (\n        <Container style={styles[\"carousel--container__outer-wrapper\"]}>\n            <div \n                className={styles[\"carousel--container__inner-wrapper\"]}\n                style={{\n                    width: `calc(${100 * itemLength}%)`,\n                    transform: `translateX(calc(-${selectedCardIdx * (100 / itemLength)}%))`\n                }}\n                onTouchStart={onTouchStart}\n                onTouchEnd={onTouchEnd}\n            >\n                {\n                    children\n                }\n            </div>\n            <FlexRow style={styles[\"carousel--navigation-dot__wrapper\"]}>\n                {\n                    Array(itemLength).fill(0).map((_, idx) => (\n                        <Button key={`carousel-card-${idx}`} style={`${styles[\"carousel--navigation-dot\"]} ${idx === selectedCardIdx ? styles[\"selected\"] : \"\"}`} onClick={() => onClickDot(idx)} text=\"\"/>\n                    ))\n                }\n            </FlexRow>\n        </Container>\n    )\n};\n\nexport default CarouselWrapper;"],"mappings":"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"},"metadata":{},"sourceType":"module"}