{"ast":null,"code":"import { DataAxios } from \"../api\";\nexport default class DataService {\n  static async getTotalCount(victimStatus, year) {\n    const response = await DataAxios.get(`/stats/year/${year}`);\n\n    if (response.status === 200) {\n      return response.data[victimStatus];\n    } // return 30;\n\n  }\n\n  static async getStatisticByTime(year) {\n    const response = await DataAxios.get(`/stats/year/${year}`);\n\n    if (response.status === 200) {\n      return Object.entries(response.data).filter(_ref => {\n        let [key, _] = _ref;\n        return key.includes(\"hour\");\n      }).map(_ref2 => {\n        let [key, value] = _ref2;\n        return [parseInt(key.replace('hour_', '')), value];\n      }).sort((a, b) => a[0] - b[0]).map(_ref3 => {\n        let [key, value] = _ref3;\n        return value;\n      });\n    }\n  }\n\n  static async getStatisticByDay(year) {\n    const response = await DataAxios.get(`/stats/year/${year}`); // console.log(response);\n    // return response.data ?? null;\n\n    const days = [1, 2, 3, 4, 5, 6, 7];\n    return days;\n  }\n\n  static async getNews() {\n    var _response$data;\n\n    const response = await DataAxios.get(\"/stories\");\n    return (_response$data = response.data) !== null && _response$data !== void 0 ? _response$data : null;\n  }\n\n  static async getDataTable(page) {\n    var _response$data2;\n\n    const response = await DataAxios.get(`/disasters?&page=${page}per_page=${10}`);\n    return (_response$data2 = response.data) !== null && _response$data2 !== void 0 ? _response$data2 : null; //        return Array.from(Array(35), () => ({\n    //            date: `${new Date(Date.now()).toLocaleString('ko-KR', dateFormatOption).slice(0, -1)}/${WEEKDAY[new Date(Date.now()).getDay()]}`,\n    //            deathCount: 11,\n    //            injuredCount: 12,\n    //            district: \"김포시\",\n    //            accidentType: \"충돌\",\n    //            articleUrl: \"https://google.com\",\n    //        }));\n  }\n\n}","map":{"version":3,"names":["DataAxios","DataService","getTotalCount","victimStatus","year","response","get","status","data","getStatisticByTime","Object","entries","filter","key","_","includes","map","value","parseInt","replace","sort","a","b","getStatisticByDay","days","getNews","getDataTable","page"],"sources":["/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/src/services/data.service.ts"],"sourcesContent":["import { DataAxios } from \"../api\";\nimport {\n    DataTableList,\n    dateFormatOption,\n    WEEKDAY\n} from \"../views/MemorialMainContent/MemorialInfomations/MemorialDataTable\";\nimport { News } from \"../views/MemorialMainContent/MemorialInfomations/MemorialArticles\";\nimport {\n    StatisticDataByDay\n} from \"../views/MemorialMainContent/MemorialInfomations/MemorialStatistics/Cards/StatisticByDayCard\";\n\n/**\n * data 부분 api 문서\n * http://13.125.214.78:8080/swagger-ui/index.html\n */\n\nexport type VictimStatus = \"killed\" | \"injured\"\nexport type PercentageStatistic = \"day\" | \"time\"\n\nexport default class DataService {\n    static async getTotalCount(victimStatus: VictimStatus, year: number) {\n        const response = await DataAxios.get(`/stats/year/${year}`);\n        if (response.status === 200) {\n            return response.data[victimStatus];\n        }\n        // return 30;\n    }\n\n    static async getStatisticByTime(year: number): Promise<StatisticDataByDay | null> {\n        const response = await DataAxios.get(`/stats/year/${year}`);\n        if (response.status === 200) {\n            return Object.entries(response.data)\n                .filter(([key, _]) => key.includes(\"hour\"))\n                .map(([key, value]) => [parseInt(key.replace('hour_', '')), value])\n                .sort((a, b) => a[0] - b[0])\n                .map(([key, value]) => value as number);\n        }\n    }\n\n    static async getStatisticByDay(year: number): Promise<StatisticDataByDay | null> {\n        const response = await DataAxios.get(`/stats/year/${year}`);\n        // console.log(response);\n        // return response.data ?? null;\n        const days = [1, 2, 3, 4, 5, 6, 7];\n        return days;\n    }\n\n    static async getNews(): Promise<{ [key: string]: any }> {\n        const response = await DataAxios.get(\"/stories\");\n        return response.data ?? null;\n    }\n\n    static async getDataTable(page: number,): Promise<{ [key: string]: any }> {\n        const response = await DataAxios.get(`/disasters?&page=${page}per_page=${10}`);\n        return response.data ?? null;\n        //        return Array.from(Array(35), () => ({\n        //            date: `${new Date(Date.now()).toLocaleString('ko-KR', dateFormatOption).slice(0, -1)}/${WEEKDAY[new Date(Date.now()).getDay()]}`,\n        //            deathCount: 11,\n        //            injuredCount: 12,\n        //            district: \"김포시\",\n        //            accidentType: \"충돌\",\n        //            articleUrl: \"https://google.com\",\n        //        }));\n    }\n}\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,QAA1B;AAmBA,eAAe,MAAMC,WAAN,CAAkB;EACH,aAAbC,aAAa,CAACC,YAAD,EAA6BC,IAA7B,EAA2C;IACjE,MAAMC,QAAQ,GAAG,MAAML,SAAS,CAACM,GAAV,CAAe,eAAcF,IAAK,EAAlC,CAAvB;;IACA,IAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;MACzB,OAAOF,QAAQ,CAACG,IAAT,CAAcL,YAAd,CAAP;IACH,CAJgE,CAKjE;;EACH;;EAE8B,aAAlBM,kBAAkB,CAACL,IAAD,EAAmD;IAC9E,MAAMC,QAAQ,GAAG,MAAML,SAAS,CAACM,GAAV,CAAe,eAAcF,IAAK,EAAlC,CAAvB;;IACA,IAAIC,QAAQ,CAACE,MAAT,KAAoB,GAAxB,EAA6B;MACzB,OAAOG,MAAM,CAACC,OAAP,CAAeN,QAAQ,CAACG,IAAxB,EACFI,MADE,CACK;QAAA,IAAC,CAACC,GAAD,EAAMC,CAAN,CAAD;QAAA,OAAcD,GAAG,CAACE,QAAJ,CAAa,MAAb,CAAd;MAAA,CADL,EAEFC,GAFE,CAEE;QAAA,IAAC,CAACH,GAAD,EAAMI,KAAN,CAAD;QAAA,OAAkB,CAACC,QAAQ,CAACL,GAAG,CAACM,OAAJ,CAAY,OAAZ,EAAqB,EAArB,CAAD,CAAT,EAAqCF,KAArC,CAAlB;MAAA,CAFF,EAGFG,IAHE,CAGG,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAAC,CAAD,CAAD,GAAOC,CAAC,CAAC,CAAD,CAHrB,EAIFN,GAJE,CAIE;QAAA,IAAC,CAACH,GAAD,EAAMI,KAAN,CAAD;QAAA,OAAkBA,KAAlB;MAAA,CAJF,CAAP;IAKH;EACJ;;EAE6B,aAAjBM,iBAAiB,CAACnB,IAAD,EAAmD;IAC7E,MAAMC,QAAQ,GAAG,MAAML,SAAS,CAACM,GAAV,CAAe,eAAcF,IAAK,EAAlC,CAAvB,CAD6E,CAE7E;IACA;;IACA,MAAMoB,IAAI,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,CAAb;IACA,OAAOA,IAAP;EACH;;EAEmB,aAAPC,OAAO,GAAoC;IAAA;;IACpD,MAAMpB,QAAQ,GAAG,MAAML,SAAS,CAACM,GAAV,CAAc,UAAd,CAAvB;IACA,yBAAOD,QAAQ,CAACG,IAAhB,2DAAwB,IAAxB;EACH;;EAEwB,aAAZkB,YAAY,CAACC,IAAD,EAAiD;IAAA;;IACtE,MAAMtB,QAAQ,GAAG,MAAML,SAAS,CAACM,GAAV,CAAe,oBAAmBqB,IAAK,YAAW,EAAG,EAArD,CAAvB;IACA,0BAAOtB,QAAQ,CAACG,IAAhB,6DAAwB,IAAxB,CAFsE,CAGtE;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACH;;AA5C4B"},"metadata":{},"sourceType":"module"}