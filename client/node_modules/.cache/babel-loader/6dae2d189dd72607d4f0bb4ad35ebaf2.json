{"ast":null,"code":"import _regeneratorRuntime from\"/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from\"react\";import FlexColumn from\"../../../../../../components/common/FlexColumn\";import FlexRow from\"../../../../../../components/common/FlexRow\";import TextChunk from\"../../../../../../components/common/TextChunk\";import BasicCard from\"../BasicCard\";import styles from\"./style.module.css\";import DataService from\"../../../../../../services/data.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TotalStatisticCard=function TotalStatisticCard(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),dead=_useState2[0],setDead=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),injured=_useState4[0],setInjured=_useState4[1];var title=\"재해자 수\";var subtitle=\"전체 산업재해 사망사고\";var updateDeadCount=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return DataService.getTotalCount(\"death\",new Date(Date.now()).getFullYear());case 2:data=_context.sent;if(data!==null){setDead(data);}case 4:case\"end\":return _context.stop();}}},_callee);})),[]);var updateInjuredCount=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return DataService.getTotalCount(\"injury\",new Date(Date.now()).getFullYear());case 2:data=_context2.sent;if(data!==null){setInjured(data);}case 4:case\"end\":return _context2.stop();}}},_callee2);})),[]);useEffect(function(){updateDeadCount();updateInjuredCount();},[updateDeadCount,updateInjuredCount]);return/*#__PURE__*/_jsx(BasicCard,{title:title,subtitle:subtitle,children:/*#__PURE__*/_jsxs(FlexColumn,{style:styles[\"total-statistic--content\"],children:[/*#__PURE__*/_jsxs(FlexRow,{style:styles[\"total-statistic--line\"],children:[/*#__PURE__*/_jsx(TextChunk,{content:\"\\uC0AC\\uB9DD : \\uBAA8\\uB4E0 \\uC0AC\\uACE0\\uC720\\uD615\"}),/*#__PURE__*/_jsx(TextChunk,{content:\"\".concat(dead,\"\\uBA85\")})]}),/*#__PURE__*/_jsxs(FlexRow,{style:styles[\"total-statistic--line\"],children:[/*#__PURE__*/_jsx(TextChunk,{content:\"\\uBD80\\uC0C1 : \\uBAA8\\uB4E0 \\uC0AC\\uACE0\\uC720\\uD615\"}),/*#__PURE__*/_jsx(TextChunk,{content:\"\".concat(injured,\"\\uBA85\")})]})]})});};export default TotalStatisticCard;","map":null,"metadata":{},"sourceType":"module"}