{"ast":null,"code":"var _jsxFileName = \"/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/src/views/MemorialMainContent/MemorialInfomations/MemorialDataTable/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport DataTableRow from \"../../../../components/dataTable/DataTableRow\";\nimport styles from \"./style.module.css\";\nimport FlexColumn from \"../../../../components/common/FlexColumn\";\nimport Pagination from \"../../../../components/pagination/Pagination\";\nimport Container from \"../../../../components/common/Container\";\nimport DataService from \"../../../../services/data.service\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MemorialDataTable = () => {\n  _s();\n\n  const [postPageNum, setPostPageNum] = useState(1);\n  const [dataTableList, setDataTableList] = useState([]);\n  const initializeDataTableList = useCallback(async () => {\n    const data = await DataService.getDataTable(postPageNum);\n    console.log(data);\n    setDataTableList(data);\n  }, [postPageNum]);\n  useEffect(() => {\n    initializeDataTableList();\n  }, []);\n  const headerList = [\"사고날짜\", \"요일\", \"사망\", \"부상\", \"도시(행정구역)\", \"사고유형\", \"세부내용\"];\n  const dataPerPage = 10;\n  const updatePostPageNum = useCallback(newPageNum => {\n    setPostPageNum(newPageNum);\n  }, []);\n  const getLastPostPageNum = useCallback(() => {\n    return Math.floor(dataTableList.length / dataPerPage) + 1;\n  }, [dataTableList, dataPerPage]);\n  const currentDatas = useMemo(() => {\n    return dataTableList.slice((postPageNum - 1) * dataPerPage, postPageNum * dataPerPage);\n  }, [postPageNum, dataPerPage, dataTableList]);\n  return /*#__PURE__*/_jsxDEV(FlexColumn, {\n    children: [/*#__PURE__*/_jsxDEV(\"table\", {\n      className: styles[\"memorial-data-table\"],\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: styles[\"memorial-data-table--header\"],\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          className: styles[\"memorial-data-table--header-row\"],\n          children: headerList.map(text => /*#__PURE__*/_jsxDEV(\"th\", {\n            className: styles[\"memorial-data-table--header-cell\"],\n            children: text\n          }, `memorial-data-table-header-${text}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: currentDatas.map((data, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: Object.keys(data).map(key => /*#__PURE__*/_jsxDEV(DataTableRow, {\n            content: key === \"articleUrl\" ? /*#__PURE__*/_jsxDEV(\"a\", {\n              className: styles[\"memorial-data-table--body-link\"],\n              rel: \"noreferrer\",\n              target: \"_blank\",\n              href: data[key],\n              children: \"\\uC0AC\\uACE0 \\uAE30\\uC0AC \\uBCF4\\uAE30\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 23\n            }, this) : key === \"weekday\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: styles[\"memorial-data-table--body-highlight\"],\n              children: data[key]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 23\n            }, this) : `${data[key]}`\n          }, `memorial-data-table-r${idx}c${key}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this))\n        }, `memorial-data-table-r${idx}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      style: styles[\"memorial-data-table--pagination__wrapper\"],\n      children: /*#__PURE__*/_jsxDEV(Pagination, {\n        onPageChange: updatePostPageNum,\n        lastPage: getLastPostPageNum(),\n        initialPageNum: postPageNum\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MemorialDataTable, \"dxckd90CxfjCsGnSb22/0qL3Joc=\");\n\n_c = MemorialDataTable;\nexport default MemorialDataTable;\nexport const WEEKDAY = [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"];\nexport const dateFormatOption = {\n  year: \"numeric\",\n  month: \"numeric\",\n  day: \"numeric\"\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"MemorialDataTable\");","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useState","DataTableRow","styles","FlexColumn","Pagination","Container","DataService","MemorialDataTable","postPageNum","setPostPageNum","dataTableList","setDataTableList","initializeDataTableList","data","getDataTable","console","log","headerList","dataPerPage","updatePostPageNum","newPageNum","getLastPostPageNum","Math","floor","length","currentDatas","slice","map","text","idx","Object","keys","key","WEEKDAY","dateFormatOption","year","month","day"],"sources":["/home/swimmingkiim/Documents/Code-For-Korea/online-memorial/client/src/views/MemorialMainContent/MemorialInfomations/MemorialDataTable/index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport DataTableRow from \"../../../../components/dataTable/DataTableRow\";\nimport styles from \"./style.module.css\";\nimport FlexColumn from \"../../../../components/common/FlexColumn\";\nimport Pagination from \"../../../../components/pagination/Pagination\";\nimport Container from \"../../../../components/common/Container\";\nimport DataService from \"../../../../services/data.service\";\n\ntype MemorialDataTableProps = {};\n\nexport type DataTableItem = {\n  date: string;\n  weekday: string;\n  deathCount: number;\n  injuredCount: number;\n  district: string;\n  accidentType: string;\n  articleUrl: string;\n};\n\nexport type DataTableList = DataTableItem[];\n\nconst MemorialDataTable: React.FC<MemorialDataTableProps> = () => {\n  const [postPageNum, setPostPageNum] = useState<number>(1);\n  const [dataTableList, setDataTableList] = useState<DataTableList>([]);\n\n  const initializeDataTableList = useCallback(async () => {\n    const data = await DataService.getDataTable(postPageNum);\n    console.log(data);\n    setDataTableList(data);\n  }, [postPageNum]);\n\n  useEffect(() => {\n    initializeDataTableList();\n  }, []);\n\n  const headerList = [\n    \"사고날짜\",\n    \"요일\",\n    \"사망\",\n    \"부상\",\n    \"도시(행정구역)\",\n    \"사고유형\",\n    \"세부내용\",\n  ];\n\n  const dataPerPage = 10;\n  const updatePostPageNum = useCallback((newPageNum: number) => {\n    setPostPageNum(newPageNum);\n  }, []);\n\n  const getLastPostPageNum = useCallback(() => {\n    return Math.floor(dataTableList.length / dataPerPage) + 1;\n  }, [dataTableList, dataPerPage]);\n\n  const currentDatas = useMemo(() => {\n    return dataTableList.slice(\n      (postPageNum - 1) * dataPerPage,\n      postPageNum * dataPerPage\n    );\n  }, [postPageNum, dataPerPage, dataTableList]);\n\n  return (\n    <FlexColumn>\n      <table className={styles[\"memorial-data-table\"]}>\n        <thead className={styles[\"memorial-data-table--header\"]}>\n          <tr className={styles[\"memorial-data-table--header-row\"]}>\n            {headerList.map((text) => (\n              <th\n                className={styles[\"memorial-data-table--header-cell\"]}\n                key={`memorial-data-table-header-${text}`}\n              >\n                {text}\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {currentDatas.map((data, idx) => (\n            <tr key={`memorial-data-table-r${idx}`}>\n              {Object.keys(data).map((key) => (\n                <DataTableRow\n                  key={`memorial-data-table-r${idx}c${key}`}\n                  content={\n                    key === \"articleUrl\" ? (\n                      <a\n                        className={styles[\"memorial-data-table--body-link\"]}\n                        rel=\"noreferrer\"\n                        target=\"_blank\"\n                        href={data[key] as string}\n                      >\n                        사고 기사 보기\n                      </a>\n                    ) : key === \"weekday\" ? (\n                      <span\n                        className={\n                          styles[\"memorial-data-table--body-highlight\"]\n                        }\n                      >\n                        {data[key]}\n                      </span>\n                    ) : (\n                      `${data[key as keyof DataTableItem]}`\n                    )\n                  }\n                />\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <Container style={styles[\"memorial-data-table--pagination__wrapper\"]}>\n        <Pagination\n          onPageChange={updatePostPageNum}\n          lastPage={getLastPostPageNum()}\n          initialPageNum={postPageNum}\n        />\n      </Container>\n    </FlexColumn>\n  );\n};\n\nexport default MemorialDataTable;\n\nexport const WEEKDAY = [\"일\", \"월\", \"화\", \"수\", \"목\", \"금\", \"토\"];\n\nexport const dateFormatOption = {\n  year: \"numeric\",\n  month: \"numeric\",\n  day: \"numeric\",\n} as Intl.DateTimeFormatOptions;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}